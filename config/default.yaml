---

#accessPoints:
#  myService:
#    title: 'My remote service'
#    host: <host>
#    port: 9999
#    token: '***'
#    noConsul: true # Use if the service developers do not provide registration in consul
#    consulServiceName: <consulServiceName>

ad:
  # Active Directory / LDAP settings.
  # Used for authentication/authorization (e.g., NTLM in admin panel) and checking user membership in AD groups.
  domains:
    # Map of domains. Key is a domain name
    MYDOMAIN:
      # Marks this domain as default one
      default: true
      # List of LDAP controllers (can be multiple for failover).
      # Use ldap:// for plain LDAP or ldaps:// for LDAP over TLS.
      controllers:
        - 'ldap://c1.corp.com'
        - 'ldap://c2.corp.com'
      # Service account (bind DN or username) used to connect to LDAP.
      username: '***'
      # Service account password.
      password: '***'
      # Base DN for LDAP searches. Auto-derived from controller URL if not set.
      # baseDn: 'DC=corp,DC=com'
  # Cache TTL for group membership checks (default: 600000 = 10 min)
  # groupCacheTtlMs: 600000
  # Cache TTL for user/group DN lookups (default: 86400000 = 24 hours)
  # dnCacheTtlMs: 86400000

# ... existing code ...
# --------------------------------------------------
# CACHING Reduces API calls by caching responses
# --------------------------------------------------
cache:
  # Default Cache TTL in seconds
  ttlSeconds: 300
  # Default maximum number of cached items
  maxItems: 1000
  # time in seconds to check all data and delete expired keys
  checkPeriod: 1200


consul:
  check:
    interval: '10s'
    timeout: '5s'
    deregistercriticalserviceafter: '3m'
  agent:
    # Credentials for getting information about services in the DEV DC
    dev:
      dc: '{{consul.agent.dev.dc}}'
      host: '{{consul.agent.dev.host}}'
      port: 443
      secure: true
      # Token for getting information about DEV services
      token: '***'
    # Credentials for getting information about services in the PROD DC
    prd:
      dc: '{{consul.agent.prd.dc}}'
      host: '{{consul.agent.prd.host}}'
      port: 443
      secure: true
      # Token for obtaining information about PROD services
      token: '***'
    # Credentials for registering the service with Consul
    reg:
      # The host of the consul agent where the service will be registered. If not specified, the server on which the service is running is used
      host: null
      port: 8500
      secure: false
      # Token for registering the service in the consul agent
      token: '***'
  service:
    enable: {{consul.service.enable}} # true - Allows registration of the service with the consul
    name: <name> # <name> will be replaced by <package.json>.name at initialization
    instance: '{{SERVICE_INSTANCE}}' # This value will be specified as a suffix in the id of the service
    version: <version> # <version> will be replaced by <package.json>.version at initialization
    description: <description> # <description> will be replaced by <package.json>.description at initialization
    tags: [ ] # If null or empty array - Will be pulled up from package.keywords at initialization
    meta:
      # "Home" page link template
      who: 'http://{address}:{port}/'
  envCode: # Used to generate the service ID
    prod: '{{consul.envCode.prod}}' # Production environment code
    dev: '{{consul.envCode.dev}}' # Development environment code

db:
  postgres:
    dbs:
      main:
        label: 'My Database'
        host: ''  # To exclude the use of the database, you need to set host = ''
        port: 5432
        database: <database>
        user: <user>
        password: <password>
        usedExtensions: [ ]

logger:
  level: info
  useFileLogger: {{logger.useFileLogger}} # To use or not to use logging to a file
  # Absolute path to the folder where logs will be written. Default <proj_root>/../logs
  dir: '{{logger.dir}}'

mcp:
  transportType: http # stdio | http
  # Response format configuration.
  # - structuredContent - default - the response in result.structuredContent returns JSON
  # - text - in the response, serialized JSON is returned in result.content[0].text
  toolAnswerAs: text # text | structuredContent
  rateLimit:
    maxRequests: 100
    windowMs: 60000  # 1 minute

swagger:
  servers: # An array of servers that will be added to swagger docs
    # - url: http://localhost:{{port}}
    #   description: "Development server (localhost)"
    # - url: http://0.0.0.0:{{port}}
    #   description: "Development server (all interfaces)"
    # - url: http://<prod_server_host_or_ip>:{{port}}
    #   description: "PROD server"
    - url: https://{{mcp.domain}}
      description: "PROD server"

uiColor:
  # Font color of the header and a number of interface elements on the HOME page
  primary: '#0f65dc'

webServer:
  host: '0.0.0.0'
  port: {{port}}
  # array of hosts that CORS skips
  originHosts: [ 'localhost', '0.0.0.0' ]
  # Authentication is configured here only when accessing the MCP server
  # Authentication in services that enable tools, resources, and prompts
  # is implemented more deeply. To do this, you need to use the information passed in HTTP headers
  # You can also use a custom authorization function
  auth:
    enabled: false # Enables/disables authorization
    # ========================================================================
    # PERMANENT SERVER TOKENS
    # Static tokens for server-to-server communication
    # CPU cost: O(1) - fastest authentication method
    #
    # To enable this authentication, you need to set auth.enabled = true
    # and set one token of at least 20 characters in length
    # ========================================================================
    permanentServerTokens: [ ] # Add your server tokens here: ['token1', 'token2']

    # ========================================================================
    # JWT TOKEN WITH SYMMETRIC ENCRYPTION
    # Custom JWT tokens with AES-256 encryption
    # CPU cost: Medium - decryption + JSON parsing
    #
    # To enable this authentication, you need to set auth.enabled = true and set
    # encryptKey to at least 20 characters
    # ========================================================================
    jwtToken:
      # Symmetric encryption key to generate a token for this MCP (minimum 8 chars)
      encryptKey: '***'
      # If webServer.auth.enabled and the parameter true, the service name and the service specified in the token will be checked
      checkMCPName: true

    # ========================================================================
    # Basic Authentication - Base64 encoded username:password
    # CPU cost: Medium - Base64 decoding + string comparison
    # To enable this authentication, you need to set auth.enabled = true
    # and set username and password to valid values
    # ========================================================================
    basic:
      username: ''
      password: '***'

  # ========================================================================
  # ADMIN PANEL AUTHENTICATION
  # Token generation page available at /admin endpoint
  # Supports 4 authentication methods: permanentServerTokens, basic, jwtToken, ntlm
  # ========================================================================
  adminAuth:
    enabled: false  # Enable/disable admin panel
    # Authentication type for admin panel: 'permanentServerTokens' | 'basic' | 'jwtToken' | 'ntlm'
    # For permanentServerTokens, basic, jwtToken - uses credentials from webServer.auth section
    # For ntlm - uses AD configuration from ad.domains section (no additional credentials needed)
    type: 'basic'
