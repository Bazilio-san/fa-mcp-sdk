---

#accessPoints:
#  myService:
#    title: 'My remote service'
#    host: <host>
#    port: 9999
#    token: '***'
#    noConsul: true # Use if the service developers do not provide registration in consul
#    consulServiceName: <consulServiceName>

# --------------------------------------------------
# CACHING Reduces API calls by caching responses
# --------------------------------------------------
cache:
  # Default Cache TTL in seconds
  ttlSeconds: 300
  # Default maximum number of cached items
  maxItems: 1000
  # time in seconds to check all data and delete expired keys
  checkPeriod: 1200


consul:
  check:
    interval: '10s'
    timeout: '5s'
    deregistercriticalserviceafter: '3m'
  agent:
    # Credentials for getting information about services in the DEV DC
    dev:
      dc: 'dc-dev'
      host: 'consul.entapp.work'
      port: 443
      secure: true
      # Token for getting information about DEV services
      token: '***'
    # Credentials for getting information about services in the PROD DC
    prd:
      dc: 'dc-prd'
      host: 'consul.entapp.work'
      port: 443
      secure: true
      # Token for obtaining information about PROD services
      token: '***'
    # Credentials for registering the service with Consul
    reg:
      # The host of the consul agent where the service will be registered. If not specified, the server on which the service is running is used
      host: null
      port: 8500
      secure: false
      # Token for registering the service in the consul agent
      token: '***'
  service:
    enable: true # true - Allows registration of the service with the consul
    name: <name> # <name> will be replaced by <package.json>.name at initialization
    instance: 'instance-0' # This value will be specified as a suffix in the id of the service
    version: <version> # <version> will be replaced by <package.json>.version at initialization
    description: <description> # <description> will be replaced by <package.json>.description at initialization
    tags: [ ] # If null or empty array - Will be pulled up from package.keywords at initialization
    meta:
      # "About" page link template
      who: 'http://{address}:{port}/'
  envCode: # Used to generate the service ID
    prod: <envCode.prod> # Production environment code
    dev: <envCode.dev> # Development environment code

db:
  postgres:
    dbs:
      main:
        label: 'My Database'
        host: ''  # To exclude the use of the database, you need to set host = ''
        port: 5432
        database: <database>
        user: <user>
        password: <password>
        usedExtensions: [ ]

logger:
  level: info
  useFileLogger: true # To use or not to use logging to a file
  # dir: # logging folder

mcp:
  transportType: http # stdio | http
  # Response format configuration.
  # - structuredContent - default - the response in result.structuredContent returns JSON
  # - text - in the response, serialized JSON is returned in result.content[0].text
  toolAnswerAs: text # text | structuredContent
  rateLimit:
    maxRequests: 100
    windowMs: 60000  # 1 minute

swagger:
  servers: # An array of servers that will be added to swagger docs
    - url: http://localhost:9876
      description: "Development server (localhost)"
    - url: http://0.0.0.0:9876
      description: "Development server (all interfaces)"

uiColor:
  # Font color of the header and a number of interface elements on the ABOUT page
  primary: '#0f65dc'

webServer:
  host: '0.0.0.0'
  port: 9876
  # array of hosts that CORS skips
  originHosts: [ 'localhost', '0.0.0.0' ]
  auth:
    enabled: false # Enables/disables token authorization

    # ========================================================================
    # PERMANENT SERVER TOKENS (âœ… Already implemented)
    # Static tokens for server-to-server communication
    # CPU cost: O(1) - fastest authentication method
    # ========================================================================
    permanentServerTokens: [ ] # Add your server tokens here: ['token1', 'token2']

    # ========================================================================
    # JWT TOKEN WITH SYMMETRIC ENCRYPTION (âœ… Already implemented)
    # Custom JWT tokens with AES-256 encryption
    # CPU cost: Medium - decryption + JSON parsing
    # ========================================================================
    jwtToken:
      # Symmetric encryption key to generate a token for this MCP (minimum 8 chars)
      encryptKey: '***'
      # If webServer.auth.enabled and the parameter true, the service name and the service specified in the token will be checked
      checkMCPName: true

    # ========================================================================
    # MULTI-AUTHENTICATION SUPPORT (ðŸ†• New implementation)
    # Multiple auth types can be configured simultaneously
    # They will be checked in order of increasing CPU cost
    # ========================================================================

    # Personal Access Token (PAT) - Fast string validation
    # Example formats: ATATT3xFfGF0... (Atlassian) or any long alphanumeric token
    # CPU cost: Low - string format validation
    #pat: 'ATATT3xFfGF0aBcDeFgHiJkLmNoPqRsTuVwXyZ123456789'

    # Basic Authentication - Base64 encoded username:password
    # CPU cost: Medium - Base64 decoding + string comparison
    #basic:
    #  type: 'basic'
    #  username: 'admin'
    #  password: 'your-secure-password'

    # OAuth2 Token Authentication - Bearer tokens
    # CPU cost: High - potential HTTP validation calls
    #oauth2:
    #  type: 'oauth2'
    #  clientId: 'your-oauth2-client-id'
    #  clientSecret: 'your-oauth2-client-secret'
    #  accessToken: 'your-current-access-token'  # Can be updated dynamically
    #  refreshToken: 'your-refresh-token'        # Optional - for token refresh
    #  redirectUri: 'https://yourapp.com/oauth/callback'  # Optional
    #  tokenEndpoint: 'https://provider.com/oauth/token'  # Optional - for custom providers
